<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Longelesc√™ncia - Combate ao Idadismo</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#FF6B8B">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üë¥üèªüëµüèª</text></svg>">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Cores principais */
            --rosa: #FF6B8B;
            --azul: #7ED6DF;
            --amarelo: #FFD166;
            --verde: #06D6A0;
            --roxo: #9D4EDD;
            --laranja: #FF9E6D;
            --azul-escuro: #1A535C;
            --branco: #F7FFF7;
            
            /* Cores de texto */
            --texto-escuro: #333333;
            --texto-medio: #666666;
            --texto-claro: #888888;
            
            /* Espa√ßamentos */
            --espaco-xs: 0.5rem;
            --espaco-sm: 1rem;
            --espaco-md: 1.5rem;
            --espaco-lg: 2rem;
            --espaco-xl: 3rem;
            
            /* Bordas */
            --borda-radius: 20px;
            --borda-radius-sm: 10px;
            
            /* Sombras */
            --sombra: 0 10px 30px rgba(0, 0, 0, 0.1);
            --sombra-forte: 0 15px 40px rgba(0, 0, 0, 0.15);
            
            /* Transi√ß√µes */
            --transicao: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #F7FFF7 0%, #E8F4F8 100%);
            color: var(--texto-escuro);
            line-height: 1.6;
            overflow-x: hidden;
            padding-bottom: 60px;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: var(--espaco-sm);
        }
        
        h1 {
            font-size: 2.5rem;
        }
        
        h2 {
            font-size: 2rem;
            color: var(--azul-escuro);
        }
        
        h3 {
            font-size: 1.5rem;
        }
        
        p {
            margin-bottom: var(--espaco-sm);
            font-size: 1.1rem;
        }
        
        a {
            text-decoration: none;
            color: inherit;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--espaco-sm);
        }
        
        /* HEADER */
        .header {
            background: linear-gradient(90deg, var(--rosa), var(--laranja));
            color: white;
            padding: var(--espaco-xl) 0;
            border-radius: 0 0 var(--borda-radius) var(--borda-radius);
            box-shadow: var(--sombra-forte);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: "";
            position: absolute;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            top: -150px;
            right: -50px;
        }
        
        .header::after {
            content: "";
            position: absolute;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
            bottom: -100px;
            left: -50px;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
        }
        
        .header h1 {
            font-size: 2.2rem;
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.1);
            margin-bottom: var(--espaco-sm);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto var(--espaco-lg);
        }
        
        /* BANNER DE PESQUISA */
        .survey-banner {
            background: linear-gradient(90deg, var(--amarelo), var(--laranja));
            color: var(--azul-escuro);
            padding: var(--espaco-sm) 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .survey-banner.hidden {
            transform: translateY(-100%);
        }
        
        .banner-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: var(--espaco-sm);
        }
        
        .banner-badge {
            background: var(--azul-escuro);
            color: white;
            padding: 5px 12px;
            border-radius: var(--borda-radius-sm);
            font-size: 0.9rem;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .banner-btn {
            background: var(--azul-escuro);
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 0.9rem;
            white-space: nowrap;
            transition: var(--transicao);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .banner-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(26, 83, 92, 0.3);
        }
        
        /* INTRO */
        .intro-box {
            background: white;
            color: var(--azul-escuro);
            padding: var(--espaco-lg);
            border-radius: var(--borda-radius);
            margin: var(--espaco-xl) auto;
            max-width: 900px;
            box-shadow: var(--sombra);
            border-left: 8px solid var(--azul);
            position: relative;
        }
        
        .highlight {
            background-color: var(--amarelo);
            padding: 3px 8px;
            border-radius: var(--borda-radius-sm);
            font-weight: bold;
        }
        
        .quote {
            font-style: italic;
            color: var(--azul-escuro);
            border-left: 5px solid var(--roxo);
            padding-left: var(--espaco-md);
            margin: var(--espaco-lg) 0;
            font-size: 1.1rem;
        }
        
        /* GAMIFICA√á√ÉO */
        .gamification {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--espaco-lg);
            margin: var(--espaco-xl) auto;
            flex-wrap: wrap;
        }
        
        .counter-box {
            background: white;
            border-radius: var(--borda-radius);
            padding: var(--espaco-lg);
            text-align: center;
            box-shadow: var(--sombra);
            border: 5px solid var(--azul);
            min-width: 200px;
        }
        
        .counter-value {
            font-size: 3.5rem;
            font-weight: bold;
            color: var(--rosa);
            line-height: 1;
            margin: 10px 0;
        }
        
        .counter-label {
            font-size: 1.2rem;
            color: var(--azul-escuro);
            font-weight: 600;
        }
        
        .medal-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .medal {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--amarelo), var(--laranja));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            box-shadow: 0 5px 15px rgba(255, 209, 102, 0.4);
            opacity: 0.3;
            transition: var(--transicao);
        }
        
        .medal.active {
            opacity: 1;
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(255, 209, 102, 0.7);
        }
        
        /* BLOCOS */
        .blocks-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--espaco-lg);
            margin: var(--espaco-xl) 0;
        }
        
        .block {
            background: white;
            border-radius: var(--borda-radius);
            overflow: hidden;
            box-shadow: var(--sombra);
            transition: var(--transicao);
            cursor: pointer;
        }
        
        .block:hover {
            transform: translateY(-10px);
        }
        
        .block-header {
            padding: var(--espaco-lg);
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: var(--espaco-sm);
        }
        
        .block-1 .block-header { background: linear-gradient(90deg, var(--rosa), #FF8FA3); }
        .block-2 .block-header { background: linear-gradient(90deg, var(--azul), #9AE6E8); }
        .block-3 .block-header { background: linear-gradient(90deg, var(--amarelo), #FFDF8E); }
        .block-4 .block-header { background: linear-gradient(90deg, var(--verde), #4CE4B8); }
        .block-5 .block-header { background: linear-gradient(90deg, var(--roxo), #C084FC); }
        .block-6 .block-header { background: linear-gradient(90deg, var(--laranja), #FFB896); }
        .block-7 .block-header { background: linear-gradient(90deg, var(--azul-escuro), #2D7C87); }
        
        .block-content {
            padding: var(--espaco-lg);
        }
        
        .block-question {
            margin-bottom: 15px;
            font-weight: 600;
            color: var(--azul-escuro);
            min-height: 60px;
        }
        
        /* SE√á√ÉO DO LIVRO */
        .book-section {
            background: linear-gradient(135deg, var(--azul-escuro), #2D7C87);
            color: white;
            padding: var(--espaco-xl) var(--espaco-md);
            border-radius: var(--borda-radius);
            margin: var(--espaco-xl) 0;
            position: relative;
            overflow: hidden;
        }
        
        .book-section::before {
            content: "";
            position: absolute;
            top: -100px;
            right: -100px;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .book-content {
            position: relative;
            z-index: 2;
        }
        
        .book-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--espaco-xl);
            align-items: center;
            margin: var(--espaco-xl) 0;
        }
        
        .book-cover {
            background: linear-gradient(135deg, var(--amarelo), var(--laranja));
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            text-align: center;
        }
        
        .book-cover-inner {
            background: white;
            padding: 40px 25px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .book-price {
            color: var(--azul-escuro);
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        .book-buy-btn {
            display: inline-block;
            padding: 18px 40px;
            background: linear-gradient(90deg, var(--rosa), var(--laranja));
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.3rem;
            box-shadow: 0 10px 25px rgba(255, 107, 139, 0.4);
            transition: var(--transicao);
            margin-top: var(--espaco-md);
            width: 100%;
            text-align: center;
        }
        
        .book-buy-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 107, 139, 0.6);
        }
        
        /* SE√á√ÉO DE PESQUISA */
        .survey-section {
            background: linear-gradient(135deg, var(--verde), var(--azul-escuro));
            color: white;
            padding: var(--espaco-xl) var(--espaco-md);
            border-radius: var(--borda-radius);
            margin: var(--espaco-xl) 0;
            position: relative;
            overflow: hidden;
        }
        
        .survey-section::before {
            content: "";
            position: absolute;
            top: -50px;
            right: -50px;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 50%;
        }
        
        .survey-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--espaco-lg);
            margin: var(--espaco-xl) 0;
        }
        
        .survey-card {
            background: rgba(255, 255, 255, 0.15);
            padding: var(--espaco-lg);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .survey-icon {
            font-size: 2.5rem;
            margin-bottom: var(--espaco-sm);
        }
        
        .survey-btn {
            display: inline-block;
            padding: 18px 40px;
            background: var(--amarelo);
            color: var(--azul-escuro);
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.3rem;
            box-shadow: 0 10px 25px rgba(255, 209, 102, 0.4);
            transition: var(--transicao);
            margin: var(--espaco-md) 0;
            text-align: center;
        }
        
        .survey-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 209, 102, 0.6);
        }
        
        /* PERFIL DO AUTOR */
        .author-section {
            background: linear-gradient(135deg, #F7FFF7 0%, #E8F4F8 100%);
            padding: var(--espaco-xl) var(--espaco-md);
            border-radius: var(--borda-radius);
            margin: var(--espaco-xl) 0;
            box-shadow: var(--sombra);
            position: relative;
            overflow: hidden;
        }
        
        .author-section::before {
            content: "";
            position: absolute;
            top: -100px;
            right: -100px;
            width: 300px;
            height: 300px;
            background: rgba(126, 214, 223, 0.1);
            border-radius: 50%;
        }
        
        .author-header {
            text-align: center;
            margin-bottom: var(--espaco-xl);
        }
        
        .author-avatar {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, var(--rosa), var(--azul));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--espaco-lg);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        .author-avatar i {
            font-size: 4rem;
            color: white;
        }
        
        .author-badge {
            position: absolute;
            bottom: 20px;
            right: 10px;
            background: var(--amarelo);
            color: var(--azul-escuro);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 5px 15px rgba(255, 209, 102, 0.4);
        }
        
        .author-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--espaco-lg);
            margin-bottom: var(--espaco-xl);
        }
        
        .author-card {
            background: white;
            padding: var(--espaco-lg);
            border-radius: 15px;
            box-shadow: var(--sombra);
            transition: var(--transicao);
        }
        
        .author-card:hover {
            transform: translateY(-10px);
        }
        
        .author-card h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: var(--espaco-lg);
        }
        
        .author-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        /* FOOTER */
        .footer {
            text-align: center;
            margin-top: var(--espaco-xl);
            padding-top: var(--espaco-xl);
            border-top: 2px solid #E0E0E0;
            color: var(--texto-medio);
            font-size: 0.9rem;
        }
        
        .footer-logo {
            font-size: 2.5rem;
            color: var(--rosa);
            margin-bottom: var(--espaco-sm);
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: var(--espaco-lg);
            flex-wrap: wrap;
            margin: var(--espaco-lg) 0;
        }
        
        .footer-link {
            color: var(--azul-escuro);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }
        
        /* BOT√ÉO DE INSTALA√á√ÉO PWA */
        .pwa-install-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--rosa);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 5px 20px rgba(255, 107, 139, 0.4);
            cursor: pointer;
            z-index: 1000;
            transition: var(--transicao);
            border: none;
        }
        
        .pwa-install-btn:hover {
            transform: scale(1.1);
        }
        
        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
        }
        
        .modal-content {
            background-color: white;
            max-width: 800px;
            margin: 30px auto;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            animation: modalAppear 0.5s;
        }
        
        @keyframes modalAppear {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* AVISO */
        .aviso {
            background: linear-gradient(90deg, var(--amarelo), var(--laranja));
            color: var(--azul-escuro);
            padding: var(--espaco-sm);
            border-radius: var(--borda-radius-sm);
            margin: var(--espaco-md) 0;
            font-weight: 600;
            text-align: center;
            border-left: 5px solid var(--rosa);
        }
        
        /* RESPONSIVIDADE */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.7rem;
            }
            
            .header {
                padding: var(--espaco-lg) 0;
            }
            
            .gamification {
                gap: var(--espaco-md);
            }
            
            .counter-box {
                min-width: 150px;
                padding: var(--espaco-md);
            }
            
            .counter-value {
                font-size: 2.5rem;
            }
            
            .blocks-container {
                grid-template-columns: 1fr;
            }
            
            .book-grid {
                grid-template-columns: 1fr;
            }
            
            .survey-grid {
                grid-template-columns: 1fr;
            }
            
            .author-grid {
                grid-template-columns: 1fr;
            }
            
            .banner-content {
                justify-content: center;
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 0 var(--espaco-xs);
            }
            
            .intro-box {
                padding: var(--espaco-md);
            }
            
            .counter-box {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1><i class="fas fa-heartbeat"></i> Autodiagn√≥stico: Avalie seu Idadismo</h1>
                <p class="subtitle">Um teste para despertar a consci√™ncia e combater o <span class="highlight">preconceito</span></p>
            </div>
        </div>
    </header>

    <!-- BANNER DE PESQUISA -->
    <div class="survey-banner" id="surveyBanner">
        <div class="container">
            <div class="banner-content">
                <div style="display: flex; align-items: center; gap: var(--espaco-sm); flex-wrap: wrap;">
                    <span class="banner-badge"><i class="fas fa-gift"></i> BRINDE</span>
                    <span style="font-weight: 600;"></span>
                </div>
                <a href="#pesquisa" class="banner-btn">
                    <i class="fas fa-arrow-right"></i> 
                </a>
            </div>
        </div>
    </div>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="container">
        <!-- INTRODU√á√ÉO -->
        <section class="intro-box">
            <p>Bem-vindo(a) a esta jornada de reflex√£o sobre o <strong>idadismo</strong> - o preconceito et√°rio que afeta milh√µes de pessoas idosas em nossa sociedade.</p>
            <p>Este n√£o √© apenas um teste, mas um convite √† reflex√£o sobre a <span class="highlight">longelesc√™ncia</span> e um exerc√≠cio de cidadania aplicada √† vida social, buscando o sentido e a dignidade em cada etapa da exist√™ncia. Sugiro que voc√™ envie esta pesquisa para mais pessoas; ampliando a rede de conscientiza√ß√£o.</p>
            <div class="quote">
                "A nova velhice n√£o pede licen√ßa, nem favor: ela ocupa a cidade, subverte e ordem reinante, reinventa o tempo e ressignifica a vida: de forma ativa, combativa, consciente e positiva." - Ricardo
            </div>
            <p>Complete o teste, descubra seu n√≠vel de consci√™ncia sobre o idadismo.</p>
            
            <!-- AVISO IMPORTANTE -->
            <div class="aviso" style="margin-top: var(--espaco-lg);">
                <i class="fas fa-exclamation-circle"></i> IMPORTANTE: √â preciso responder a <strong>TODAS as 32 quest√µes</strong> para obter seu resultado completo!
            </div>
        </section>

        <!-- GAMIFICA√á√ÉO -->
        <section class="gamification">
            <div class="counter-box">
                <div class="counter-label">QUEST√ïES RESPONDIDAS</div>
                <div class="counter-value" id="answered-counter">0</div>
                <div class="counter-label">de 32</div>
            </div>
            
            <div class="counter-box">
                <div class="counter-label">PONTUA√á√ÉO</div>
                <div class="counter-value" id="score-counter">0</div>
                <div class="counter-label">de 10</div>
            </div>
            
            <div class="counter-box">
                <div class="counter-label">CONQUISTAS</div>
                <div class="medal-container">
                    <div class="medal" id="medal-1"><i class="fas fa-star"></i></div>
                    <div class="medal" id="medal-2"><i class="fas fa-heart"></i></div>
                    <div class="medal" id="medal-3"><i class="fas fa-brain"></i></div>
                    <div class="medal" id="medal-4"><i class="fas fa-gem"></i></div>
                    <div class="medal" id="medal-5"><i class="fas fa-trophy"></i></div>
                </div>
            </div>
        </section>

        <!-- AVISO DE COMPLETUDE -->
        <div id="completeness-warning" class="aviso" style="display: none; background: linear-gradient(90deg, var(--rosa), var(--roxo)); color: white;">
            <i class="fas fa-check-circle"></i> Parab√©ns! Voc√™ respondeu a todas as 32 quest√µes! Agora pode ver seu resultado completo.
        </div>

        <!-- BLOCOS DE QUEST√ïES -->
        <section>
            <h2 style="text-align: center; margin-bottom: var(--espaco-lg);">Escolha um bloco para come√ßar:</h2>
            <div class="blocks-container" id="blocksContainer">
                <!-- Gerado por JavaScript -->
            </div>
        </section>

        <!-- BOT√ÉO VER RESULTADOS -->
        <div style="text-align: center; margin: var(--espaco-xl) 0;">
            <button id="view-results-btn" class="survey-btn" style="background: linear-gradient(90deg, var(--roxo), var(--rosa)); color: white; border: none; cursor: pointer; padding: 20px 50px; font-size: 1.3rem;">
                <i class="fas fa-chart-bar"></i> VER MEU RESULTADO COMPLETO
            </button>
            <p id="results-warning" style="color: var(--rosa); margin-top: var(--espaco-sm); display: none;">
                <i class="fas fa-exclamation-triangle"></i> Voc√™ precisa responder a todas as 32 quest√µes primeiro!
            </p>
        </div>

        <!-- SE√á√ÉO DO LIVRO -->
        <section class="book-section" id="livro">
            <div class="container">
                <div class="book-content">
                    <h2 style="text-align: center; color: var(--amarelo); margin-bottom: var(--espaco-md);">
                        <i class="fas fa-book"></i> Meu Livro: Manual do Bem-Estar na Longelesc√™ncia
                    </h2>
                    <p style="text-align: center; font-size: 1.2rem; opacity: 0.95; max-width: 800px; margin: 0 auto var(--espaco-xl);">
                        dos 50 aos 100+ ‚Ä¢ Inspirado no Vento Aracati e Joyspan
                    </p>
                    
                    <div class="book-grid">
                        <div class="book-cover">
                            <div class="book-cover-inner">
                                <div style="font-size: 3rem; color: var(--azul-escuro); margin-bottom: var(--espaco-sm);">üìö</div>
                                <h3 style="color: var(--azul-escuro); margin-bottom: var(--espaco-sm);">Manual do Bem-Estar na Longevidade</h3>
                                <p style="color: var(--texto-medio); margin: 0;">dos 50 aos 100+</p>
                            </div>
                            <div class="book-price">R$ 50,00*</div>
                            <div style="color: var(--azul-escuro); font-size: 0.9rem; margin-top: 5px;">*Vers√£o impressa, pedidos por email, com frete gr√°tis</div>
                        </div>
                        
                        <div>
                            <h3 style="color: var(--amarelo); margin-bottom: var(--espaco-md);">O que √© a nova longevidade, a "longelesc√™ncia"?</h3>
                            <p style="margin-bottom: var(--espaco-md); opacity: 0.95;">
                                <strong>Longelesc√™ncia</strong> √© foi um termo criado por mim para nomear o <strong>florescimento tardio</strong> ‚Äî um per√≠odo em que maturidade, autonomia, sentido e plenitude se entrela√ßam de forma √∫nica.
                            </p>
                            
                            <div style="background: rgba(255, 255, 255, 0.1); padding: var(--espaco-md); border-radius: 10px; margin-bottom: var(--espaco-lg);">
                                <h4 style="color: var(--azul); margin-bottom: var(--espaco-sm);">‚ú® Inspira√ß√µes do Livro:</h4>
                                <div style="display: grid; gap: var(--espaco-md);">
                                    <div>
                                        <div style="display: flex; align-items: center; gap: var(--espaco-sm); margin-bottom: 5px;">
                                            <div style="font-size: 1.5rem;">üå¨Ô∏è</div>
                                            <strong style="color: var(--amarelo);">Vento Aracati</strong>
                                        </div>
                                        <div style="opacity: 0.9; font-size: 0.95rem;">A brisa suave e renovadora do Nordeste brasileiro</div>
                                    </div>
                                    <div>
                                        <div style="display: flex; align-items: center; gap: var(--espaco-sm); margin-bottom: 5px;">
                                            <div style="font-size: 1.5rem;">üí´</div>
                                            <strong style="color: var(--amarelo);">Joyspan</strong>
                                        </div>
                                        <div style="opacity: 0.9; font-size: 0.95rem;">Conceito criado pela m√©dica gerontologista Kerry Burnight</div>
                                    </div>
                                </div>
                            </div>
                            
                            <a href="https://a.co/d/0hgRnva8" target="_blank" class="book-buy-btn">
                                <i class="fas fa-shopping-cart"></i> COMPRAR NA AMAZON
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SE√á√ÉO DE PESQUISA -->
        <section class="survey-section" id="pesquisa">
            <div class="container">
                <h2 style="text-align: center; color: var(--amarelo); margin-bottom: var(--espaco-md);">
                    <i class="fas fa-clipboard-check"></i> Participe da Pesquisa Mundo Longevo 50+
                </h2>
                <p style="text-align: center; font-size: 1.2rem; opacity: 0.95; max-width: 700px; margin: 0 auto var(--espaco-xl);">
                    Contribua para a ci√™ncia da longevidade e <strong>receba meu livro como brinde de reconhecimento</strong>!
                </p>
                
                <div class="survey-grid">
                    <div class="survey-card">
                        <div class="survey-icon">üî¨</div>
                        <h3 style="color: var(--amarelo); margin-bottom: var(--espaco-sm);">Pesquisa Cient√≠fica</h3>
                        <p>Estudo sobre qualidade de vida, desafios e potencialidades da popula√ß√£o 50+. Seus dados ajudar√£o a desenvolver pol√≠ticas e programas mais eficazes.</p>
                    </div>
                    
                    <div class="survey-card">
                        <div class="survey-icon">üôã‚Äç‚ôÇÔ∏è</div>
                        <h3 style="color: var(--amarelo); margin-bottom: var(--espaco-sm);">Quem Pode Participar?</h3>
                        <p><strong>Todas as pessoas com 50 anos ou mais.</strong> O question√°rio leva cerca de 15-20 minutos e √© totalmente an√¥nimo.</p>
                    </div>
                    
                    <div class="survey-card">
                        <div class="survey-icon">üìö</div>
                        <h3 style="color: var(--amarelo); margin-bottom: var(--espaco-sm);">Brinde Especial</h3>
                        <p><strong>Todos os participantes</strong> que completarem a pesquisa receber√£o meu livro <strong>"Aposentei-me,e agora?"</strong> em formato digital.</p>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: var(--espaco-xl);">
                    <a href="https://forms.gle/6TpS7wtftsAoLgaM8" target="_blank" class="survey-btn">
                        <i class="fas fa-play-circle"></i> PARTICIPAR DA PESQUISA AGORA
                    </a>
                    <p style="opacity: 0.9; font-size: 1rem; margin-top: var(--espaco-sm);">
                        <i class="fas fa-lock"></i> Dados protegidos ‚Ä¢ An√¥nimo ‚Ä¢ √âtica aprovada
                    </p>
                </div>
            </div>
        </section>

        <!-- PERFIL DO AUTOR -->
        <section class="author-section">
            <div class="container">
                <div class="author-header">
                    <div class="author-avatar">
                        <i class="fas fa-user-graduate"></i>
                        <div class="author-badge">61 anos ‚Ä¢ Psic√≥logo</div>
                    </div>
                    <h2 style="color: var(--azul-escuro);">Meu Curr√≠culo</h2>
                    <p style="color: var(--texto-medio); font-size: 1.2rem; max-width: 600px; margin: 0 auto;">
                        Psic√≥logo Cl√≠nico ‚Ä¢ Especialista em Longevidade ‚Ä¢ Autor ‚Ä¢ Palestrante ‚Ä¢ Professor
                    </p>
                </div>
                
                <div class="author-grid">
                    <div class="author-card">
                        <h3>
                            <div class="author-icon" style="background: var(--azul);">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <span>Forma√ß√£o Acad√™mica</span>
                        </h3>
                        <ul style="list-style-type: none; padding-left: 0;">
                            <li style="margin-bottom: var(--espaco-sm);">
                                <strong>Psic√≥logo Cl√≠nico</strong><br>
                                <span style="color: var(--texto-medio);">Forma√ß√£o em Logoterapia (UEPB)</span>
                            </li>
                            <li style="margin-bottom: var(--espaco-sm);">
                                <strong>Especializa√ß√£o em Psicologia Positiva</strong><br>
                                <span style="color: var(--texto-medio);">PUCRS</span>
                            </li>
                            <li style="margin-bottom: var(--espaco-sm);">
                                <strong>Mestrado em Gest√£o Social e Trabalho</strong><br>
                                <span style="color: var(--texto-medio);">Universidade de Bras√≠lia (UNB)</span>
                            </li>
                            <li style="margin-bottom: var(--espaco-sm);">
                                <strong>Especializa√ß√£o em Gest√£o de Pessoas</strong><br>
                                <span style="color: var(--texto-medio);">Universidade de S√£o Paulo (USP)</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="author-card">
                        <h3>
                            <div class="author-icon" style="background: var(--rosa);">
                                <i class="fas fa-briefcase"></i>
                            </div>
                            <span>Atua√ß√£o Profissional</span>
                        </h3>
                        <ul style="list-style-type: none; padding-left: 0;">
                            <li style="margin-bottom: var(--espaco-sm);">
                                <strong>Professor de P√≥s-Gradua√ß√£o</strong><br>
                                <span style="color: var(--texto-medio);">ESMPU e IBMEC-Bras√≠lia</span>
                            </li>
                            <li style="margin-bottom: var(--espaco-sm);">
                                <strong>Consultor de Longevidade</strong><br>
                                <span style="color: var(--texto-medio);">ANABB - Projeto 70+</span>
                            </li>
                            <li style="margin-bottom: var(--espaco-sm);">
                                <strong>Propriet√°rio da √Çnimo DH</strong><br>
                                <span style="color: var(--texto-medio);"><a href="https://www.animodh.com.br/" target="_blank" style="color: var(--azul-escuro);">animodh.com.br</a></span>
                            </li>
                            <li style="margin-bottom: var(--espaco-sm);">
                                <strong>30 anos de experi√™ncia</strong><br>
                                <span style="color: var(--texto-medio);">Tem√°tica longevidade e prepara√ß√£o para aposentadoria</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="author-card">
                        <h3>
                            <div class="author-icon" style="background: var(--amarelo);">
                                <i class="fas fa-book"></i>
                            </div>
                            <span>Livros Publicados</span>
                        </h3>
                        <div style="display: grid; gap: var(--espaco-sm);">
                            <div style="background: rgba(255, 209, 102, 0.1); padding: var(--espaco-sm); border-radius: 8px;">
                                <strong>Sobre a Vida e o Viver</strong>
                                <div style="color: var(--texto-medio); font-size: 0.9rem;">Reflex√µes existenciais baseadas em Logoterapia</div>
                            </div>
                            <div style="background: rgba(255, 209, 102, 0.1); padding: var(--espaco-sm); border-radius: 8px;">
                                <strong>Apanhadores de Possibilidades</strong>
                                <div style="color: var(--texto-medio); font-size: 0.9rem;">Encontrando sentido nas adversidades</div>
                            </div>
                            <div style="background: rgba(255, 209, 102, 0.1); padding: var(--espaco-sm); border-radius: 8px;">
                                <strong>Aposentei-me e Agora</strong>
                                <div style="color: var(--texto-medio); font-size: 0.9rem;">Guia pr√°tico para transi√ß√£o p√≥s-carreira</div>
                            </div>
                            <div style="background: rgba(255, 209, 102, 0.1); padding: var(--espaco-sm); border-radius: 8px;">
                                <strong>Manual da Longevidade Positiva</strong>
                                <div style="color: var(--texto-medio); font-size: 0.9rem;">Abordagem integrada para envelhecer bem</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="author-card">
                        <h3>
                            <div class="author-icon" style="background: var(--roxo);">
                                <i class="fas fa-heart"></i>
                            </div>
                            <span>Contato & Redes</span>
                        </h3>
                        <div style="display: grid; gap: var(--espaco-sm);">
                            <a href="https://www.youtube.com/@positivaatitude" target="_blank" style="background: linear-gradient(135deg, #FF0000, #CC0000); color: white; padding: 12px; border-radius: 10px; text-decoration: none; text-align: center; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <i class="fab fa-youtube"></i> YouTube @positivaatitude
                            </a>
                            <a href="https://www.animodh.com.br/" target="_blank" style="background: linear-gradient(135deg, var(--azul-escuro), #2D7C87); color: white; padding: 12px; border-radius: 10px; text-decoration: none; text-align: center; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <i class="fas fa-globe"></i> √Çnimo Desenvolvimento Humano
                            </a>
                            <a href="mailto:ricardo@animodh.com.br" style="background: linear-gradient(135deg, var(--verde), var(--azul)); color: white; padding: 12px; border-radius: 10px; text-decoration: none; text-align: center; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <i class="fas fa-envelope"></i> Contato Profissional
                            </a>
                        </div>
                        <div style="margin-top: var(--espaco-md); padding: var(--espaco-sm); background: rgba(157, 78, 221, 0.1); border-radius: 8px;">
                            <p style="margin: 0; font-size: 0.9rem; color: var(--texto-medio);">
                                <strong>Fam√≠lia:</strong> 4 filhos (Tiago, Priscila, Rodrigo, Jo√£o Gabriel) ‚Ä¢ 4 netos (Lucas, La√≠s, Sofia, Eduardo)<br>
                                <strong>Origem:</strong> Campina Grande-PB ‚Ä¢ Reside em Bras√≠lia desde 1999
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="container">
            <div class="footer-logo">
                <i class="fas fa-heart"></i>
            </div>ba
            <p><strong>Autor e Especialista:</strong> Ricardo de Faria  Barros ‚Ä¢ Psic√≥logo Cl√≠nico CRP√á 01/7844‚Ä¢ Mestre em Gest√£o Social</p>
            
            <div class="footer-links">
                <a href="#pesquisa" class="footer-link">
                    <i class="fas fa-clipboard-check"></i> Pesquisa 50+
                </a>
                <a href="#livro" class="footer-link">
                    <i class="fas fa-book"></i> Meu Livro
                </a>
                <a href="https://www.youtube.com/@positivaatitude" target="_blank" class="footer-link">
                    <i class="fab fa-youtube"></i> YouTube
                </a>
            </div>
            
            <p>Viol√™ncia contra a pessoa idosa √© crime! Denuncie: <strong>Disque 100</strong></p>
            <p style="margin-top: var(--espaco-lg); font-size: 0.8rem; color: var(--texto-claro);">
                ¬© 2023 - Combate ao Idadismo ‚Ä¢ Desenvolvido por Ricardo de Faria Barros ‚Ä¢ Psic√≥logo CRP-01/7844
            </p>
        </div>
    </footer>

    <!-- BOT√ÉO INSTALA√á√ÉO PWA -->
    <button class="pwa-install-btn" id="pwaInstallBtn" title="Instalar App">
        <i class="fas fa-download"></i>
    </button>

    <!-- MODAL DE QUEST√ïES -->
    <div class="modal" id="questionModal">
        <div class="modal-content">
            <!-- Gerado por JavaScript -->
        </div>
    </div>

    <!-- MODAL DE RESULTADOS -->
    <div class="modal" id="resultsModal">
        <div class="modal-content">
            <!-- Gerado por JavaScript -->
        </div>
    </div>

    <script>
        // DADOS DAS 32 QUEST√ïES COMPLETAS
        const questions = [
            // Bloco 1: Temas Sexuais e Afetivos (3 quest√µes)
            {
                id: 1,
                block: 1,
                text: "Voc√™ v√™ um casal de 80 anos se beijando apaixonadamente em p√∫blico. Qual seu pensamento?",
                options: [
                    { letter: "A", text: "\"Que fofinhos, parecem duas crian√ßas brincando de namorar!\"" },
                    { letter: "B", text: "\"Nessa idade? Que coisa desnecess√°ria, deveriam ser mais discretos.\"" },
                    { letter: "C", text: "\"Que bom ver que o afeto e o desejo permanecem vivos em todas as etapas da vida.\"" }
                ],
                correct: "C",
                explanation: "A letra A infantiliza o idoso (v√™-lo como crian√ßa retira sua maturidade). A letra B √© preconceito puro (etiquetar o afeto como 'impr√≥prio' pela idade)."
            },
            {
                id: 2,
                block: 1,
                text: "Um homem de 75 anos comenta que est√° usando aplicativos de relacionamento. Voc√™ responde:",
                options: [
                    { letter: "A", text: "\"Cuidado para n√£o cair em golpe, o senhor n√£o tem mais idade para essas aventuras.\"" },
                    { letter: "B", text: "\"Isso √© falta de ocupa√ß√£o, v√° cuidar dos seus netos.\"" },
                    { letter: "C", text: "\"Boa sorte! √â √≥timo buscar novas conex√µes e companhia em qualquer idade.\"" }
                ],
                correct: "C",
                explanation: "A A usa o medo para limitar a autonomia. A B reduz a vida do idoso √† utilidade familiar (cuidar de netos), negando seu direito ao prazer e √† companhia."
            },
            {
                id: 3,
                block: 1,
                text: "Sobre o uso de preservativos e sa√∫de sexual na terceira idade:",
                options: [
                    { letter: "A", text: "\"√â um assunto que nem deveria ser discutido, √© constrangedor para o idoso.\"" },
                    { letter: "B", text: "\"√â essencial, pois ISTs n√£o escolhem idade e a vida sexual nessa fase √© ativa.\"" },
                    { letter: "C", text: "\"Desnecess√°rio, pois o risco de gravidez j√° n√£o existe.\"" }
                ],
                correct: "B",
                explanation: "A A silencia a sa√∫de do idoso por tabu. A C ignora que camisinha previne doen√ßas, n√£o apenas gravidez, e pressup√µe que n√£o h√° sexo."
            },
            // Bloco 2: Temas Atitudinais e Comportamentais (3 quest√µes)
            {
                id: 4,
                block: 2,
                text: "Uma mulher de 70 anos aparece de minissaia e com uma tatuagem nova. Sua rea√ß√£o √©:",
                options: [
                    { letter: "A", text: "\"Ela est√° tendo uma crise de identidade, quer parecer ter 20 anos.\"" },
                    { letter: "B", text: "\"Corajosa, mas est√° passando vergonha com essa roupa.\"" },
                    { letter: "C", text: "\"Estilo e liberdade corporal n√£o t√™m prazo de validade.\"" }
                ],
                correct: "C",
                explanation: "Ambas imp√µem um 'uniforme de velho'. A ideia de que o idoso deve se vestir para esconder o corpo ou a idade √© uma forma de controle social."
            },
            {
                id: 5,
                block: 2,
                text: "Ao ver um idoso praticando paraquedismo ou surf, voc√™ pensa:",
                options: [
                    { letter: "A", text: "\"Deveria estar fazendo hidrogin√°stica, que √© mais seguro para a idade.\"" },
                    { letter: "B", text: "\"Exemplo de vitalidade, o limite √© o que o corpo e a mente permitem.\"" },
                    { letter: "C", text: "\"Est√° querendo acelerar o encontro com o Criador.\"" }
                ],
                correct: "B",
                explanation: "A A limita o idoso ao estere√≥tipo da fragilidade. A C usa um 'humor' m√≥rbido que desqualifica a busca por adrenalina e sentido na vida."
            },
            {
                id: 6,
                block: 2,
                text: "Voc√™ ouve um idoso dominando tecnologias de ponta e usando g√≠rias atuais. Voc√™:",
                options: [
                    { letter: "A", text: "\"Acha rid√≠culo, parece que est√° for√ßando a barra para ser jovem.\"" },
                    { letter: "B", text: "\"Fica surpreso, como se ele tivesse feito um milagre acad√™mico.\"" },
                    { letter: "C", text: "\"Acha natural, pois aprender √© uma caracter√≠stica humana, n√£o cronol√≥gica.\"" }
                ],
                correct: "C",
                explanation: "A A julga a atualiza√ß√£o como falsidade. A B √© o 'idadismo benevolente': tratar o b√°sico (aprender) como algo extraordin√°rio apenas por causa da idade."
            },
            // Bloco 3: Temas Familiares e Autonomia (5 quest√µes)
            {
                id: 7,
                block: 3,
                text: "Os filhos vendem a casa do pai de 78 anos para ele morar perto deles, sem consult√°-lo profundamente.",
                options: [
                    { letter: "A", text: "\"Um ato de amor e prote√ß√£o para que ele n√£o fique s√≥.\"" },
                    { letter: "B", text: "\"Uma viola√ß√£o da autonomia e do direito de escolha do pai.\"" },
                    { letter: "C", text: "\"Pr√°tico, afinal, idosos n√£o sabem mais administrar im√≥veis.\"" }
                ],
                correct: "B",
                explanation: "A A mascara o autoritarismo com 'amor'. A C √© um preconceito cognitivo, assumindo que idade √© igual a incapacidade mental."
            },
            {
                id: 8,
                block: 3,
                text: "A fam√≠lia usa a av√≥ como bab√° e motorista fixa dos netos sem perguntar seus planos.",
                options: [
                    { letter: "A", text: "\"Uma forma de manter a av√≥ ativa e √∫til na fam√≠lia.\"" },
                    { letter: "B", text: "\"Idadismo funcional: ver o idoso apenas como um prestador de servi√ßos gratuito.\"" },
                    { letter: "C", text: "\"O dever natural de todo av√¥ e av√≥.\"" }
                ],
                correct: "B",
                explanation: "Ambas anulam a identidade da mulher para al√©m do papel de 'av√≥'. Ela tem agenda, desejos e o direito de dizer 'n√£o'."
            },
            {
                id: 9,
                block: 3,
                text: "\"Pai, o senhor n√£o precisa mais usar cart√£o de cr√©dito, eu administro sua aposentadoria\". Isso √©:",
                options: [
                    { letter: "A", text: "\"Uma forma de viol√™ncia patrimonial e quebra de autonomia.\"" },
                    { letter: "B", text: "\"Um aux√≠lio administrativo que todo filho deve prestar.\"" },
                    { letter: "C", text: "\"Uma maneira de evitar que o idoso gaste com bobagens.\"" }
                ],
                correct: "A",
                explanation: "Se o idoso √© l√∫cido, retirar seu poder financeiro √© uma forma de castra√ß√£o social e crime previsto no Estatuto do Idoso."
            },
            {
                id: 10,
                block: 3,
                text: "Os filhos decidem colocar grades nas janelas e esconder as chaves do carro do pai 'pelo bem dele':",
                options: [
                    { letter: "A", text: "\"Prote√ß√£o extrema e amorosa.\"" },
                    { letter: "B", text: "\"C√°rcere privado e viola√ß√£o da autonomia individual.\"" },
                    { letter: "C", text: "\"Preven√ß√£o de acidentes necess√°ria para qualquer um nessa idade.\"" }
                ],
                correct: "B",
                explanation: "Retirar a liberdade de ir e vir sem um diagn√≥stico real de incapacidade √© uma agress√£o severa √† dignidade humana."
            },
            {
                id: 11,
                block: 3,
                text: "Um filho n√£o visita a m√£e h√° meses, pois 'ela tem comida, rem√©dios e uma TV √≥tima'. Isso √©:",
                options: [
                    { letter: "A", text: "\"Solid√£o funcional e abandono afetivo estrutural.\"" },
                    { letter: "B", text: "\"Respeito ao espa√ßo e √† privacidade do idoso.\"" },
                    { letter: "C", text: "\"Confian√ßa na autonomia da m√£e.\"" }
                ],
                correct: "A",
                explanation: "O bem-estar material n√£o supre a necessidade de pertencimento e conex√£o. Condenar o idoso √† TV √© conden√°-lo √† morte social."
            },
            // Bloco 4: Temas Sociais e Estado (4 quest√µes)
            {
                id: 12,
                block: 4,
                text: "Atendimento preferencial que funciona no balc√£o, mas o servi√ßo demora o dobro depois:",
                options: [
                    { letter: "A", text: "\"Um azar do dia, acontece com todo mundo.\"" },
                    { letter: "B", text: "\"Um 'respeito de fachada' que n√£o se traduz em efici√™ncia estrutural.\"" },
                    { letter: "C", text: "\"O idoso tem mais tempo mesmo, ent√£o pode esperar um pouco mais.\"" }
                ],
                correct: "B",
                explanation: "A C √© um desrespeito ao tempo de vida do idoso. A A ignora que a lei exige prioridade em todas as etapas do fluxo, n√£o s√≥ na fila."
            },
            {
                id: 13,
                block: 4,
                text: "Editais que pro√≠bem pessoas acima de uma certa idade de participarem de projetos:",
                options: [
                    { letter: "A", text: "\"Normais, para garantir que o investimento no profissional dure mais.\"" },
                    { letter: "B", text: "\"Viol√™ncia estrutural e puro idadismo institucional.\"" },
                    { letter: "C", text: "\"Uma forma de dar oportunidade aos mais jovens, que precisam mais.\"" }
                ],
                correct: "B",
                explanation: "O Estado n√£o pode determinar quando o talento ou a utilidade de um cidad√£o expira. Isso √© discrimina√ß√£o direta."
            },
            {
                id: 14,
                block: 4,
                text: "O uso de termos como 'vovozinho' ou 'velhinho' por desconhecidos √©:",
                options: [
                    { letter: "A", text: "\"Uma forma carinhosa e respeitosa de tratamento.\"" },
                    { letter: "B", text: "\"Infantiliza√ß√£o e apagamento da identidade individual da pessoa.\"" },
                    { letter: "C", text: "\"Necess√°rio para que eles se sintam acolhidos.\"" }
                ],
                correct: "B",
                explanation: "Chamar um estranho de 'vov√¥' retira dele seu nome e sua hist√≥ria. √â trat√°-lo como uma categoria fofa, n√£o como um cidad√£o."
            },
            {
                id: 15,
                block: 4,
                text: "Ao ver um idoso pobre no transporte p√∫blico, a rea√ß√£o comum √©:",
                options: [
                    { letter: "A", text: "\"Oferecer o lugar e perguntar se ele precisa de ajuda.\"" },
                    { letter: "B", text: "\"Torn√°-lo invis√≠vel, ignorando suas dificuldades de acesso.\"" },
                    { letter: "C", text: "\"Achar que ele est√° passeando e atrapalhando quem trabalha.\"" }
                ],
                correct: "B",
                explanation: "A C √© a crueldade do idadismo de classe: achar que o idoso pobre n√£o tem o direito de circular pela cidade no hor√°rio que precisar."
            },
            // Bloco 5: Temas Culturais e M√≠dia (3 quest√µes)
            {
                id: 16,
                block: 5,
                text: "Na TV, o idoso √© quase sempre retratado como 'ranzinza' ou 'esquecido'. O impacto √©:",
                options: [
                    { letter: "A", text: "\"Apenas humor, n√£o deve ser levado a s√©rio.\"" },
                    { letter: "B", text: "\"A manuten√ß√£o de estere√≥tipos que moldam como a sociedade trata os idosos.\"" },
                    { letter: "C", text: "\"Realista, pois a maioria dos idosos √© assim mesmo.\"" }
                ],
                correct: "B",
                explanation: "A m√≠dia cria a realidade. Se s√≥ vemos idosos limitados na tela, passamos a acreditar que a velhice √© apenas perda e rabugice."
            },
            {
                id: 17,
                block: 5,
                text: "As imagens de bancos de dados (senhor de bengala, senhora tricotando):",
                options: [
                    { letter: "A", text: "\"S√£o a melhor forma de representar o idoso para todos entenderem.\"" },
                    { letter: "B", text: "\"Est√£o ultrapassadas e n√£o refletem a diversidade da longelesc√™ncia.\"" },
                    { letter: "C", text: "\"Devem ser mantidas por tradi√ß√£o cultural.\"" }
                ],
                correct: "B",
                explanation: "Essas imagens refor√ßam o 'antigo normal'. O novo longevo viaja, empreende e usa tecnologia."
            },
            {
                id: 18,
                block: 5,
                text: "Linguagem inacess√≠vel (letras min√∫sculas, termos em ingl√™s sem explica√ß√£o) √©:",
                options: [
                    { letter: "A", text: "\"Uma falha de design sem inten√ß√£o.\"" },
                    { letter: "B", text: "\"Uma forma de exclus√£o digital e social do p√∫blico idoso.\"" },
                    { letter: "C", text: "\"Culpa do idoso que n√£o se esfor√ßa para aprender.\"" }
                ],
                correct: "B",
                explanation: "O design que n√£o inclui todas as idades √© um design excludente. Acessibilidade √© um direito, n√£o um privil√©gio."
            },
            // Bloco 6: Temas Trabalhistas e Empreendedorismo (3 quest√µes)
            {
                id: 19,
                block: 6,
                text: "Um idoso decide abrir uma startup aos 65 anos. O mercado financeiro geralmente:",
                options: [
                    { letter: "A", text: "\"D√° todo apoio pela experi√™ncia acumulada.\"" },
                    { letter: "B", text: "\"Dificulta o cr√©dito por considerar o risco de 'sobrevida' do neg√≥cio.\"" },
                    { letter: "C", text: "\"Ignora, achando que √© apenas um passatempo de aposentado.\"" }
                ],
                correct: "B",
                explanation: "O mercado ignora que o empreendedorismo s√™nior tem maior taxa de sucesso. Tratar como 'passatempo' √© desqualificar d√©cadas de expertise."
            },
            {
                id: 20,
                block: 6,
                text: "No curr√≠culo de uma pessoa de 62 anos, o descarte imediato ocorre por:",
                options: [
                    { letter: "A", text: "\"Falta de qualifica√ß√£o t√©cnica para o mundo moderno.\"" },
                    { letter: "B", text: "\"Idadismo: medo de que ele n√£o aceite ordens de jovens ou seja lento.\"" },
                    { letter: "C", text: "\"Sal√°rio pretendido ser muito alto.\"" }
                ],
                correct: "B",
                explanation: "O preconceito assume que o idoso √© r√≠gido ou tecnologicamente incapaz, o que √© uma mentira generalizada."
            },
            {
                id: 21,
                block: 6,
                text: "Uma mulher de 66 anos quer abrir conta PJ e o gerente sugere o nome do filho:",
                options: [
                    { letter: "A", text: "\"Um conselho financeiro prudente.\"" },
                    { letter: "B", text: "\"Idadismo financeiro que ataca a autonomia feminina e s√™nior.\"" },
                    { letter: "C", text: "\"Uma gentileza para poupar a cliente de burocracias.\"" }
                ],
                correct: "B",
                explanation: "√â uma tentativa de retirar a titularidade da mulher sobre suas pr√≥prias conquistas."
            },
            // Bloco 7: Interseccionalidade e Relacionamento Intergeracional (11 quest√µes)
            {
                id: 22,
                block: 7,
                text: "Quem sofre mais preconceito na velhice?",
                options: [
                    { letter: "A", text: "\"O homem branco de classe m√©dia.\"" },
                    { letter: "B", text: "\"A mulher negra e pobre (ac√∫mulo de g√™nero, ra√ßa, classe e idade).\"" },
                    { letter: "C", text: "\"Todos sofrem exatamente igual.\"" }
                ],
                correct: "B",
                explanation: "A interseccionalidade prova que vulnerabilidades se somam. A velhice n√£o apaga o racismo nem o machismo; ela os aprofunda."
            },
            {
                id: 23,
                block: 7,
                text: "\"√â da idade mesmo\", diz o m√©dico sem fazer exames em um idoso pobre:",
                options: [
                    { letter: "A", text: "\"Um diagn√≥stico sincero baseado na estat√≠stica.\"" },
                    { letter: "B", text: "\"Neglig√™ncia m√©dica baseada no idadismo estrutural.\"" },
                    { letter: "C", text: "\"Uma forma de acalmar o paciente.\"" }
                ],
                correct: "B",
                explanation: "Idade n√£o √© diagn√≥stico. Dor e mal-estar em idosos devem ser investigados com o mesmo rigor que em jovens."
            },
            {
                id: 24,
                block: 7,
                text: "Um idoso de 72 anos entra em uma loja de luxo e o vendedor pergunta por quem ele trabalha:",
                options: [
                    { letter: "A", text: "\"O vendedor est√° apenas sendo sol√≠cito.\"" },
                    { letter: "B", text: "\"√â um 'combo' de racismo, classismo e idadismo.\"" },
                    { letter: "C", text: "\"Provavelmente o idoso parece perdido.\"" }
                ],
                correct: "B",
                explanation: "Assume-se que o idoso (especialmente se for negro ou parecer pobre) n√£o pode ser o sujeito do desejo de consumo."
            },
            {
                id: 25,
                block: 7,
                text: "O relacionamento ideal entre jovens e idosos seria:",
                options: [
                    { letter: "A", text: "\"O jovem ensinar tecnologia e o idoso apenas ouvir.\"" },
                    { letter: "B", text: "\"O idoso contar hist√≥rias e o jovem fingir que ouve.\"" },
                    { letter: "C", text: "\"Uma troca m√∫tua: o novo do jovem e o contexto do idoso.\"" }
                ],
                correct: "C",
                explanation: "Ambas as op√ß√µes tratam a rela√ß√£o como unilateral. A intergeracionalidade real √© uma via de m√£o dupla."
            },
            {
                id: 26,
                block: 7,
                text: "Quando um idoso conta uma supera√ß√£o e o jovem diz 'L√° vem o museu':",
                options: [
                    { letter: "A", text: "\"O jovem √© apenas focado no futuro.\"" },
                    { letter: "B", text: "\"O jovem despreza a mem√≥ria como algo 'ultrapassado'.\"" },
                    { letter: "C", text: "\"As hist√≥rias de idosos s√£o sempre repetitivas.\"" }
                ],
                correct: "B",
                explanation: "Desprezar a experi√™ncia √© ignorar o alicerce do presente. Sem mem√≥ria, n√£o h√° evolu√ß√£o."
            },
            {
                id: 27,
                block: 7,
                text: "Um idoso quer aprender IA e os colegas jovens riem. A presen√ßa dele √©:",
                options: [
                    { letter: "A", text: "\"Uma tentativa desesperada de n√£o se sentir s√≥.\"" },
                    { letter: "B", text: "\"Um exemplo de lifelong learning e direito √† atualiza√ß√£o.\"" },
                    { letter: "C", text: "\"Perda de tempo, pois o c√©rebro n√£o processa mais isso.\"" }
                ],
                correct: "B",
                explanation: "A neuroplasticidade continua. Rir da busca por conhecimento √© uma das formas mais cru√©is de idadismo acad√™mico."
            },
            {
                id: 28,
                block: 7,
                text: "A fam√≠lia viaja e avisa √† av√≥: 'Voc√™ vai para cuidar das crian√ßas √† noite':",
                options: [
                    { letter: "A", text: "\"Assume-se que o tempo do idoso √© 'sobra' e n√£o tem valor pr√≥prio.\"" },
                    { letter: "B", text: "\"√â uma ajuda que toda av√≥ gosta de dar.\"" },
                    { letter: "C", text: "\"Uma forma de economizar com a bab√°.\"" }
                ],
                correct: "A",
                explanation: "Ignora que ela pode ter seus pr√≥prios planos de viagem e lazer na mesma ocasi√£o."
            },
            {
                id: 29,
                block: 7,
                text: "O preconceito de ver idosos como 'sem agenda pr√≥pria' resulta em:",
                options: [
                    { letter: "A", text: "\"Mais tempo de descanso para eles.\"" },
                    { letter: "B", text: "\"Isolamento social e perda do sentido de vida (logoterapia).\"" },
                    { letter: "C", text: "\"Uma vida mais simples e sem estresse.\"" }
                ],
                correct: "B",
                explanation: "O ser humano precisa de prop√≥sito. Retirar a agenda do idoso √© retirar seu lugar no mundo."
            },
            {
                id: 30,
                block: 7,
                text: "Sobre a 'longelesc√™ncia' (seu termo!), o que ela prop√µe?",
                options: [
                    { letter: "A", text: "\"Que o idoso deve agir como se tivesse 15 anos para ser aceito.\"" },
                    { letter: "B", text: "\"Que a longevidade pode manter a curiosidade e o vigor da juventude.\"" },
                    { letter: "C", text: "\"Que a velhice √© apenas uma adolesc√™ncia tardia e sem responsabilidades.\"" }
                ],
                correct: "B",
                explanation: "A A nega a sabedoria da idade. A C nega a maturidade. A longelesc√™ncia √© a s√≠ntese: o frescor da descoberta com o peso da experi√™ncia."
            },
            // Quest√µes adicionais para completar 32
            {
                id: 31,
                block: 7,
                text: "Quando um idoso diz que quer aprender uma nova l√≠ngua, a rea√ß√£o comum √©:",
                options: [
                    { letter: "A", text: "\"Que inspirador! Nunca √© tarde para aprender.\"" },
                    { letter: "B", text: "\"Na sua idade? Melhor descansar.\"" },
                    { letter: "C", text: "\"Para que vai servir agora?\"" }
                ],
                correct: "A",
                explanation: "As op√ß√µes B e C desestimulam o aprendizado cont√≠nuo, ignorando que a capacidade de aprender permanece ao longo da vida."
            },
            {
                id: 32,
                block: 7,
                text: "Um idoso quer participar de um projeto volunt√°rio, mas √© rejeitado por 'ser muito velho':",
                options: [
                    { letter: "A", text: "\"√â compreens√≠vel, projetos precisam de pessoas com energia.\"" },
                    { letter: "B", text: "\"Uma perda, pois idosos trazem experi√™ncia e sabedoria.\"" },
                    { letter: "C", text: "\"Discrimina√ß√£o pura, violando o direito de contribuir com a sociedade.\"" }
                ],
                correct: "C",
                explanation: "Idosos t√™m muito a contribuir. Rejeitar por idade √© desperdi√ßar valiosa experi√™ncia e violar direitos fundamentais."
            }
        ];

        const blocks = [
            { id: 1, title: "Temas Sexuais e Afetivos", icon: "fas fa-heart", color: "block-1", count: 3 },
            { id: 2, title: "Temas Atitudinais e Comportamentais", icon: "fas fa-running", color: "block-2", count: 3 },
            { id: 3, title: "Temas Familiares e Autonomia", icon: "fas fa-home", color: "block-3", count: 5 },
            { id: 4, title: "Temas Sociais e Estado", icon: "fas fa-university", color: "block-4", count: 4 },
            { id: 5, title: "Temas Culturais e M√≠dia", icon: "fas fa-tv", color: "block-5", count: 3 },
            { id: 6, title: "Temas Trabalhistas e Empreendedorismo", icon: "fas fa-briefcase", color: "block-6", count: 3 },
            { id: 7, title: "Interseccionalidade e Relacionamento Intergeracional", icon: "fas fa-users", color: "block-7", count: 11 }
        ];

        // ESTADO DA APLICA√á√ÉO
        let userAnswers = new Array(32).fill(null);
        let currentQuestionIndex = 0;
        let score = 0;
        let answeredCount = 0;

        // ELEMENTOS DOM
        const blocksContainer = document.getElementById('blocksContainer');
        const questionModal = document.getElementById('questionModal');
        const resultsModal = document.getElementById('resultsModal');
        const answeredCounter = document.getElementById('answered-counter');
        const scoreCounter = document.getElementById('score-counter');
        const surveyBanner = document.getElementById('surveyBanner');
        const pwaInstallBtn = document.getElementById('pwaInstallBtn');
        const viewResultsBtn = document.getElementById('view-results-btn');
        const resultsWarning = document.getElementById('results-warning');
        const completenessWarning = document.getElementById('completeness-warning');

        // INICIALIZA√á√ÉO
        document.addEventListener('DOMContentLoaded', function() {
            initBlocks();
            updateCounters();
            initPWA();
            initBannerScroll();
            
            viewResultsBtn.addEventListener('click', showResults);
        });

        // INICIALIZAR BLOCOS
        function initBlocks() {
            blocksContainer.innerHTML = '';
            
            blocks.forEach(block => {
                const blockElement = document.createElement('div');
                blockElement.className = `block ${block.color}`;
                blockElement.innerHTML = `
                    <div class="block-header">
                        <i class="${block.icon}"></i>
                        <span>${block.title}</span>
                    </div>
                    <div class="block-content">
                        <div class="block-question">${block.count} quest√µes para refletir sobre ${block.title.toLowerCase()}</div>
                        <div class="block-stats">
                            <span>Clique para come√ßar</span>
                            <span><i class="fas fa-play-circle"></i></span>
                        </div>
                    </div>
                `;
                
                blockElement.addEventListener('click', () => {
                    const firstQuestionIndex = questions.findIndex(q => q.block === block.id);
                    if (firstQuestionIndex !== -1) {
                        openQuestionModal(firstQuestionIndex);
                    }
                });
                
                blocksContainer.appendChild(blockElement);
            });
        }

        // ABRIR MODAL DE QUEST√ÉO
        function openQuestionModal(index) {
            currentQuestionIndex = index;
            updateQuestionModal();
            questionModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // ATUALIZAR MODAL
        function updateQuestionModal() {
            const question = questions[currentQuestionIndex];
            const userAnswer = userAnswers[currentQuestionIndex];
            
            const modalContent = `
                <div class="modal-header" style="background: linear-gradient(90deg, ${getBlockColor(question.block)}); padding: 25px; color: white; font-size: 1.4rem; display: flex; justify-content: space-between; align-items: center;">
                    <span>Quest√£o ${currentQuestionIndex + 1} de 32 - Bloco ${question.block}</span>
                    <span class="close-modal" style="font-size: 2rem; cursor: pointer;">&times;</span>
                </div>
                <div style="padding: 25px;">
                    <div class="question-text" style="font-size: 1.3rem; margin-bottom: 25px; line-height: 1.5; color: var(--azul-escuro);">
                        ${question.text}
                    </div>
                    
                    <div class="options-container" style="display: flex; flex-direction: column; gap: 15px; margin-bottom: 30px;">
                        ${question.options.map(option => `
                            <div class="option ${userAnswer === option.letter ? 'selected' : ''} ${userAnswer && option.letter === question.correct ? 'correct' : ''} ${userAnswer && option.letter !== question.correct ? 'incorrect' : ''}" 
                                 style="padding: 18px; border-radius: 15px; border: 2px solid #E0E0E0; cursor: pointer; transition: all 0.3s; font-size: 1.1rem; display: flex; align-items: center; gap: 15px;">
                                <div class="option-letter" style="width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; flex-shrink: 0; background-color: ${getOptionColor(option.letter)};">
                                    ${option.letter}
                                </div>
                                <div class="option-text">${option.text}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    ${userAnswer ? `
                        <div class="explanation" style="background-color: #F9F9F9; padding: 20px; border-radius: 15px; margin-top: 20px; border-left: 5px solid var(--roxo);">
                            <div class="explanation-title" style="font-weight: bold; color: var(--azul-escuro); margin-bottom: 10px; font-size: 1.1rem;">
                                Por que as outras est√£o erradas?
                            </div>
                            <div>${question.explanation}</div>
                        </div>
                    ` : ''}
                    
                    <div style="display: flex; justify-content: space-between; margin-top: 30px;">
                        <button class="nav-btn prev" style="${currentQuestionIndex > 0 ? '' : 'display: none;'} padding: 15px 30px; border: none; border-radius: 50px; font-weight: bold; font-size: 1.1rem; cursor: pointer; background-color: #F0F0F0; color: #666; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-arrow-left"></i> Anterior
                        </button>
                        <div style="flex: 1; text-align: center; color: var(--texto-medio); font-weight: 600;">
                            ${answeredCount}/32 respondidas
                        </div>
                        <button class="nav-btn next" style="padding: 15px 30px; border: none; border-radius: 50px; font-weight: bold; font-size: 1.1rem; cursor: pointer; background: linear-gradient(90deg, var(--azul), var(--roxo)); color: white; display: flex; align-items: center; gap: 10px; ${!userAnswer ? 'opacity: 0.5;' : ''}" ${!userAnswer ? 'disabled' : ''}>
                            ${currentQuestionIndex < questions.length - 1 ? 'Pr√≥xima <i class="fas fa-arrow-right"></i>' : 'Fechar'}
                        </button>
                    </div>
                </div>
            `;
            
            questionModal.innerHTML = modalContent;
            
            // Adicionar eventos
            const closeBtn = questionModal.querySelector('.close-modal');
            const prevBtn = questionModal.querySelector('.nav-btn.prev');
            const nextBtn = questionModal.querySelector('.nav-btn.next');
            const options = questionModal.querySelectorAll('.option:not(.selected)');
            
            closeBtn.addEventListener('click', () => {
                questionModal.style.display = 'none';
                document.body.style.overflow = 'auto';
                checkCompleteness();
            });
            
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    if (currentQuestionIndex > 0) {
                        currentQuestionIndex--;
                        updateQuestionModal();
                    }
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    if (currentQuestionIndex < questions.length - 1) {
                        currentQuestionIndex++;
                        updateQuestionModal();
                    } else {
                        questionModal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                        checkCompleteness();
                    }
                });
            }
            
            options.forEach(option => {
                if (!option.classList.contains('selected')) {
                    option.addEventListener('click', () => {
                        const selectedLetter = option.querySelector('.option-letter').textContent;
                        selectOption(selectedLetter);
                    });
                }
            });
        }

        // SELECIONAR OP√á√ÉO
        function selectOption(selectedLetter) {
            const question = questions[currentQuestionIndex];
            userAnswers[currentQuestionIndex] = selectedLetter;
            
            if (selectedLetter === question.correct) {
                // Calcula a pontua√ß√£o baseada em 10 pontos totais
                // Cada quest√£o correta vale aproximadamente 0.3125 pontos (10/32)
                score = Math.round((userAnswers.filter((answer, idx) => 
                    answer !== null && answer === questions[idx].correct
                ).length / 32) * 10 * 10) / 10;
            }
            
            answeredCount = userAnswers.filter(answer => answer !== null).length;
            updateMedals();
            updateCounters();
            updateQuestionModal();
            checkCompleteness();
        }

        // VERIFICAR COMPLETUDE
        function checkCompleteness() {
            if (answeredCount === 32) {
                completenessWarning.style.display = 'block';
                resultsWarning.style.display = 'none';
            } else {
                completenessWarning.style.display = 'none';
            }
        }

        // ATUALIZAR CONTADORES
        function updateCounters() {
            answeredCounter.textContent = answeredCount;
            scoreCounter.textContent = score.toFixed(1);
        }

        // ATUALIZAR MEDALHAS
        function updateMedals() {
            const medals = [1, 2, 3, 4, 5].map(i => document.getElementById(`medal-${i}`));
            
            if (answeredCount >= 8) medals[0].classList.add('active');
            if (score >= 2.5) medals[1].classList.add('active');
            if (answeredCount >= 16) medals[2].classList.add('active');
            if (score >= 7.5) medals[3].classList.add('active');
            if (answeredCount === 32) medals[4].classList.add('active');
        }

        // MOSTRAR RESULTADOS
        function showResults() {
            if (answeredCount < 32) {
                resultsWarning.style.display = 'block';
                setTimeout(() => {
                    resultsWarning.style.display = 'none';
                }, 3000);
                return;
            }
            
            // Calcular nota final (0-10)
            const notaFinal = score;
            
            let level, message, color;
            
            if (notaFinal >= 9.0) {
                level = "Especialista em Longelesc√™ncia! üèÜ";
                message = "Parab√©ns! Voc√™ demonstra uma consci√™ncia excepcional sobre os desafios do idadismo e uma vis√£o profundamente respeitosa da longevidade. Suas respostas mostram que voc√™ √© um verdadeiro defensor da dignidade em todas as idades.";
                color = "linear-gradient(90deg, var(--amarelo), var(--laranja))";
            } else if (notaFinal >= 7.0) {
                level = "Consciente e Informado üí°";
                message = "Voc√™ tem boa consci√™ncia sobre o idadismo, mas ainda pode aprofundar alguns conceitos. Continue refletindo e aprendendo sobre o tema - sua mente j√° est√° aberta para uma vis√£o mais inclusiva do envelhecimento.";
                color = "linear-gradient(90deg, var(--azul), var(--verde))";
            } else if (notaFinal >= 5.0) {
                level = "Em Desenvolvimento üå±";
                message = "Voc√™ est√° no caminho certo, mas ainda internalizou alguns estere√≥tipos sobre o envelhecimento. Use este teste como ponto de partida para aprender mais! Cada quest√£o que voc√™ acertou mostra seu potencial para crescimento.";
                color = "linear-gradient(90deg, var(--verde), var(--azul))";
            } else {
                level = "Iniciante na Jornada üöÄ";
                message = "Este teste revelou que h√° muitos conceitos sobre envelhecimento e idadismo para explorar. Que tal come√ßar conversando com pessoas idosas sobre suas experi√™ncias? Cada dia √© uma nova oportunidade para aprender e crescer.";
                color = "linear-gradient(90deg, var(--rosa), var(--roxo))";
            }
            
            const resultsHTML = `
                <div style="padding: 40px; text-align: center;">
                    <div style="font-size: 2.5rem; color: var(--azul-escuro); margin-bottom: 20px;">Seu Resultado Completo</div>
                    
                    <div style="display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; margin: 30px 0;">
                        <div style="text-align: center;">
                            <div style="font-size: 4rem; font-weight: bold; color: var(--rosa); margin: 10px 0;">${notaFinal.toFixed(1)}</div>
                            <div style="font-weight: 600; color: var(--texto-medio);">Nota (0-10)</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 4rem; font-weight: bold; color: var(--azul); margin: 10px 0;">${answeredCount}</div>
                            <div style="font-weight: 600; color: var(--texto-medio);">Quest√µes Respondidas</div>
                        </div>
                    </div>
                    
                    <div style="display: inline-block; padding: 10px 25px; border-radius: 50px; font-weight: bold; font-size: 1.2rem; margin-bottom: 30px; background: ${color}; color: white;">
                        ${level}
                    </div>
                    
                    <div style="font-size: 1.2rem; margin-bottom: 40px; color: #555; line-height: 1.6; max-width: 600px; margin-left: auto; margin-right: auto;">
                        ${message}
                    </div>
                    
                    <div style="background: rgba(126, 214, 223, 0.1); padding: 25px; border-radius: 15px; margin: 30px 0; text-align: left;">
                        <h4 style="color: var(--azul-escuro); margin-bottom: 15px;">üìä Suas Estat√≠sticas:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div>
                                <strong>Acertos:</strong> ${Math.round((notaFinal / 10) * 32)} de 32<br>
                                <strong>Porcentagem:</strong> ${Math.round(notaFinal * 10)}%
                            </div>
                            <div>
                                <strong>N√≠vel de Consci√™ncia:</strong> ${getNivelConsciencia(notaFinal)}<br>
                                <strong>Pr√≥ximo Passo:</strong> ${getProximoPasso(notaFinal)}
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button onclick="closeResultsModal()" style="padding: 15px 40px; background: var(--azul-escuro); color: white; border: none; border-radius: 50px; font-weight: bold; font-size: 1.1rem; cursor: pointer; margin-right: 15px;">
                            Fechar
                        </button>
                        <button onclick="shareResults()" style="padding: 15px 40px; background: linear-gradient(90deg, var(--verde), var(--azul)); color: white; border: none; border-radius: 50px; font-weight: bold; font-size: 1.1rem; cursor: pointer;">
                            <i class="fas fa-share"></i> Compartilhar
                        </button>
                    </div>
                </div>
            `;
            
            resultsModal.innerHTML = resultsHTML;
            resultsModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // FUN√á√ïES AUXILIARES
        function getBlockColor(blockId) {
            const colors = {
                1: '#FF6B8B, #FF8FA3',
                2: '#7ED6DF, #9AE6E8',
                3: '#FFD166, #FFDF8E',
                4: '#06D6A0, #4CE4B8',
                5: '#9D4EDD, #C084FC',
                6: '#FF9E6D, #FFB896',
                7: '#1A535C, #2D7C87'
            };
            return colors[blockId] || '#7ED6DF, #9AE6E8';
        }

        function getOptionColor(letter) {
            const colors = {
                'A': 'var(--rosa)',
                'B': 'var(--azul)',
                'C': 'var(--amarelo)'
            };
            return colors[letter] || 'var(--azul)';
        }

        function getNivelConsciencia(nota) {
            if (nota >= 9) return "Excelente";
            if (nota >= 7) return "Bom";
            if (nota >= 5) return "Em desenvolvimento";
            return "Iniciante";
        }

        function getProximoPasso(nota) {
            if (nota >= 9) return "Compartilhe seu conhecimento";
            if (nota >= 7) return "Profundize conceitos espec√≠ficos";
            if (nota >= 5) return "Reflita sobre os erros";
            return "Converse com pessoas idosas";
        }

        function closeResultsModal() {
            resultsModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function shareResults() {
            const nota = score.toFixed(1);
            const text = `Acabei de fazer o teste "Autodiagn√≥stico: O Idadismo Mora em Voc√™?" e tirei nota ${nota}/10! Descubra seu n√≠vel de consci√™ncia sobre idadismo e longelesc√™ncia.`;
            navigator.share ? navigator.share({ text }) : alert("Copie o link para compartilhar: " + window.location.href);
        }

        // PWA FUNCTIONS
        function initPWA() {
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('sw.js').catch(console.error);
                });
            }
            
            let deferredPrompt;
            
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                pwaInstallBtn.style.display = 'flex';
                
                pwaInstallBtn.addEventListener('click', () => {
                    pwaInstallBtn.style.display = 'none';
                    deferredPrompt.prompt();
                    deferredPrompt.userChoice.then((choiceResult) => {
                        deferredPrompt = null;
                    });
                });
            });
        }

        // BANNER SCROLL
        function initBannerScroll() {
            let lastScrollTop = 0;
            
            window.addEventListener('scroll', function() {
                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                if (scrollTop > lastScrollTop && scrollTop > 100) {
                    surveyBanner.classList.add('hidden');
                } else {
                    surveyBanner.classList.remove('hidden');
                }
                
                lastScrollTop = scrollTop;
            });
        }

        // FECHAR MODAL CLICANDO FORA
        window.addEventListener('click', (e) => {
            if (e.target === questionModal) {
                questionModal.style.display = 'none';
                document.body.style.overflow = 'auto';
                checkCompleteness();
            }
            if (e.target === resultsModal) {
                closeResultsModal();
            }
        });

        // Service Worker inline
        const swContent = `
            const CACHE_NAME = 'longelescencia-v1';
            self.addEventListener('install', event => {
                event.waitUntil(caches.open(CACHE_NAME));
            });
            self.addEventListener('fetch', event => {
                event.respondWith(fetch(event.request).catch(() => caches.match(event.request)));
            });
        `;
        
        if ('serviceWorker' in navigator) {
            const blob = new Blob([swContent], { type: 'application/javascript' });
            const swURL = URL.createObjectURL(blob);
            navigator.serviceWorker.register(swURL);
        }
    </script>
</body>
</html>